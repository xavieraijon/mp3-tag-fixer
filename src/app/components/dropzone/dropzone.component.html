<div
  class="relative group"
  (dragover)="onDragOver($event)"
  (dragleave)="onDragLeave($event)"
  (drop)="onDrop($event)"
  (click)="openFileDialog()"
  (keydown.enter)="openFileDialog()"
  (keydown.space)="openFileDialog()"
  tabindex="0"
  role="button"
  aria-label="Upload MP3 files"
>
  <!-- Hidden File Input -->
  <input
    #fileInput
    type="file"
    multiple
    accept="audio/mpeg,.mp3"
    (change)="onFileSelected($event)"
    class="hidden"
  />

  <div
    class="border-2 border-dashed rounded-2xl p-8 text-center transition-all duration-300 ease-out cursor-pointer h-full flex flex-col items-center justify-center min-h-[140px]"
    [class.border-indigo-400]="isDragging()"
    [class.dark:border-indigo-500]="isDragging()"
    [class.bg-indigo-50/50]="isDragging()"
    [class.dark:bg-indigo-900/20]="isDragging()"
    [class.scale-[1.01]]="isDragging()"
    [class.border-slate-300]="!isDragging()"
    [class.dark:border-slate-700]="!isDragging()"
    [class.bg-white/50]="!isDragging()"
    [class.dark:bg-slate-800/50]="!isDragging()"
    [class.hover:bg-white/80]="!isDragging()"
    [class.dark:hover:bg-slate-800/80]="!isDragging()"
    [class.hover:border-indigo-300]="!isDragging()"
    [class.dark:hover:border-indigo-600]="!isDragging()"
    [class.cursor-copy]="isDragging()"
  >
    <div class="pointer-events-none flex flex-col items-center gap-3">
      <div
        class="w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center group-hover:scale-110 group-hover:bg-indigo-100 dark:group-hover:bg-indigo-900/50 transition-all duration-300"
      >
        <lucide-icon
          name="upload-cloud"
          class="w-8 h-8 text-slate-400 dark:text-slate-500 group-hover:text-indigo-500 dark:group-hover:text-indigo-400 transition-colors duration-300"
        ></lucide-icon>
      </div>
      <div class="flex flex-col gap-1">
        <p
          class="text-base font-semibold text-slate-700 dark:text-slate-200 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-300"
        >
          Drop MP3 files here
        </p>
        <p class="text-slate-500 dark:text-slate-400 text-sm">or click to browse</p>
      </div>
    </div>
  </div>
</div>
